 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <title>CodroidHub Assistant Bot</title>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <style>
     :root {
       --primary-bg: #ffffff;
       --primary-text: #2d3748;
       --user-bubble: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
       --bot-bubble: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
       --border: #e2e8f0;
       --chat-bg: #f7fafc;
       --header-bg: linear-gradient(135deg, #4c63d2 0%, #7c3aed 100%);
       --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
     }
 
     body.dark {
       --primary-bg: #1a202c;
       --primary-text: #f7fafc;
       --user-bubble: linear-gradient(135deg, #4c63d2 0%, #7c3aed 100%);
       --bot-bubble: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
       --border: #4a5568;
       --chat-bg: #0f1419;
       --header-bg: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
       --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
     }
 
     * {
       box-sizing: border-box;
       margin: 0;
       padding: 0;
     }
 
     body {
       font-family: 'Poppins', sans-serif;
       background: var(--chat-bg);
       color: var(--primary-text);
       height: 100vh;
       display: flex;
       justify-content: center;
       align-items: center;
       transition: all 0.3s ease;
       padding: 10px;
     }
 
     .chat-container {
       width: 100%;
       max-width: 600px;
       height: 95vh;
       background: var(--primary-bg);
       border-radius: 24px;
       box-shadow: var(--shadow);
       display: flex;
       flex-direction: column;
       overflow: hidden;
       border: 1px solid var(--border);
       transition: all 0.3s ease;
       position: relative;
     }
 
     .header {
       background: var(--header-bg);
       color: white;
       padding: 1.5rem;
       text-align: center;
       position: relative;
       box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
     }
 
     .header h1 {
       font-size: 1.8rem;
       font-weight: 600;
       margin-bottom: 0.3rem;
       display: flex;
       align-items: center;
       justify-content: center;
       gap: 0.5rem;
     }
 
     .header p {
       font-size: 0.9rem;
       opacity: 0.9;
       font-weight: 300;
     }
 
     .toggle-mode {
       position: absolute;
       right: 1.5rem;
       top: 50%;
       transform: translateY(-50%);
       background: rgba(255, 255, 255, 0.2);
       border: none;
       border-radius: 12px;
       padding: 0.5rem 0.8rem;
       color: white;
       cursor: pointer;
       font-size: 0.9rem;
       transition: all 0.3s ease;
       backdrop-filter: blur(10px);
     }
 
     .toggle-mode:hover {
       background: rgba(255, 255, 255, 0.3);
       transform: translateY(-50%) scale(1.05);
     }
 
     #chatbox {
       flex-grow: 1;
       padding: 1.5rem;
       overflow-y: auto;
       display: flex;
       flex-direction: column;
       gap: 16px;
       scroll-behavior: smooth;
       background: var(--chat-bg);
     }
 
     #chatbox::-webkit-scrollbar {
       width: 6px;
     }
 
     #chatbox::-webkit-scrollbar-track {
       background: transparent;
     }
 
     #chatbox::-webkit-scrollbar-thumb {
       background: #cbd5e0;
       border-radius: 3px;
     }
 
     .message-container {
       display: flex;
       align-items: flex-start;
       gap: 12px;
       animation: slideIn 0.3s ease-out;
     }
 
     @keyframes slideIn {
       from {
         opacity: 0;
         transform: translateY(20px);
       }
       to {
         opacity: 1;
         transform: translateY(0);
       }
     }
 
     .bot-message {
       flex-direction: row;
     }
 
     .user-message {
       flex-direction: row-reverse;
     }
 
     .avatar {
       width: 40px;
       height: 40px;
       border-radius: 50%;
       background-size: cover;
       background-position: center;
       flex-shrink: 0;
       box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
       border: 2px solid white;
     }
 
     .bot-avatar {
       background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
       display: flex;
       align-items: center;
       justify-content: center;
       font-size: 1.2rem;
     }
 
     .user-avatar {
       background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
       display: flex;
       align-items: center;
       justify-content: center;
       font-size: 1.2rem;
     }
 
     .message-content {
       max-width: 75%;
       display: flex;
       flex-direction: column;
     }
 
     .message-bubble {
       padding: 1rem 1.2rem;
       font-size: 0.95rem;
       border-radius: 20px;
       line-height: 1.6;
       box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
       transition: all 0.3s ease;
       word-wrap: break-word;
       white-space: pre-line;
     }
 
     .bot .message-bubble {
       background: var(--primary-bg);
       color: var(--primary-text);
       border: 1px solid var(--border);
       border-bottom-left-radius: 6px;
     }
 
     .user .message-bubble {
       background: var(--user-bubble);
       color: white;
       border-bottom-right-radius: 6px;
     }
 
     .timestamp {
       font-size: 0.75rem;
       color: #a0aec0;
       margin-top: 0.5rem;
       align-self: flex-end;
     }
 
     .bot .timestamp {
       align-self: flex-start;
     }
 
     .input-area {
       display: flex;
       padding: 1.5rem;
       border-top: 1px solid var(--border);
       background: var(--primary-bg);
       gap: 0.8rem;
       align-items: flex-end;
     }
 
     #userinput {
       flex-grow: 1;
       padding: 1rem 1.2rem;
       border: 2px solid var(--border);
       border-radius: 16px;
       font-size: 1rem;
       outline: none;
       background: var(--primary-bg);
       color: var(--primary-text);
       transition: all 0.3s ease;
       resize: none;
       min-height: 48px;
       max-height: 120px;
       font-family: inherit;
     }
 
     #userinput:focus {
       border-color: #667eea;
       box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
     }
 
     .send-button {
       background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
       color: white;
       border: none;
       border-radius: 16px;
       padding: 0.8rem 1.5rem;
       font-size: 1rem;
       cursor: pointer;
       transition: all 0.3s ease;
       font-weight: 500;
       display: flex;
       align-items: center;
       gap: 0.5rem;
       min-height: 48px;
     }
 
     .send-button:hover {
       transform: translateY(-2px);
       box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
     }
 
     .send-button:active {
       transform: translateY(0);
     }
 
     .typing {
       display: flex;
       align-items: center;
       gap: 12px;
       margin-left: 52px;
       color: #a0aec0;
       font-style: italic;
       font-size: 0.9rem;
     }
 
     .typing-dots {
       display: flex;
       gap: 4px;
     }
 
     .typing-dot {
       width: 6px;
       height: 6px;
       border-radius: 50%;
       background: #a0aec0;
       animation: typingDot 1.4s infinite ease-in-out;
     }
 
     .typing-dot:nth-child(1) { animation-delay: -0.32s; }
     .typing-dot:nth-child(2) { animation-delay: -0.16s; }
 
     @keyframes typingDot {
       0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
       40% { transform: scale(1); opacity: 1; }
     }
 
     .quick-actions {
       display: flex;
       gap: 0.5rem;
       padding: 0 1.5rem 1rem;
       flex-wrap: wrap;
     }
 
     .quick-action {
       background: var(--border);
       color: var(--primary-text);
       border: none;
       border-radius: 20px;
       padding: 0.5rem 1rem;
       font-size: 0.85rem;
       cursor: pointer;
       transition: all 0.3s ease;
       font-family: inherit;
     }
 
     .quick-action:hover {
       background: #667eea;
       color: white;
       transform: translateY(-1px);
     }
 
     @media (max-width: 768px) {
       .chat-container {
         height: 100vh;
         border-radius: 0;
         max-width: 100%;
       }
 
       .header h1 {
         font-size: 1.5rem;
       }
 
       .message-content {
         max-width: 85%;
       }
 
       .input-area {
         flex-direction: column;
         gap: 0.8rem;
       }
 
       .send-button {
         width: 100%;
         justify-content: center;
       }
 
       .quick-actions {
         padding: 0 1rem 1rem;
       }
     }
 
     .welcome-message {
       text-align: center;
       padding: 2rem;
       color: #a0aec0;
     }
 
     .welcome-message h3 {
       color: var(--primary-text);
       margin-bottom: 1rem;
       font-weight: 600;
     }
   </style>
 </head>
 <body>
   <div class="chat-container">
     <div class="header">
       <h1>CodroidHub Assistant</h1>
       <p>Your AI-powered learning companion</p>
       <button class="toggle-mode" onclick="toggleMode()">ðŸŒ“ Mode</button>
     </div>
     
     <div id="chatbox">
       <div class="welcome-message">
         <h3>Welcome to CodroidHub!</h3>
         <p>I'm here to help you with courses, internships, workshops, and more. Try one of the quick actions below or just ask me anything!</p>
       </div>
     </div>
     
     <div class="quick-actions">
       <button class="quick-action" onclick="sendQuickMessage('courses')">Courses</button>
       <button class="quick-action" onclick="sendQuickMessage('workshops')">Workshops</button>
       <button class="quick-action" onclick="sendQuickMessage('internship')">Internships</button>
       <button class="quick-action" onclick="sendQuickMessage('contact')">Contact</button>
     </div>
     
     <div class="input-area">
       <textarea id="userinput" placeholder="Ask me about courses, internships, workshops..." rows="1"></textarea>
       <button class="send-button" onclick="sendMessage()">
         <span>Send</span>
       </button>
     </div>
   </div>
 
   <script>
     const chatbox = document.getElementById('chatbox');
     const input = document.getElementById('userinput');
 
     // Auto-resize textarea
     input.addEventListener('input', function() {
       this.style.height = 'auto';
       this.style.height = Math.min(this.scrollHeight, 120) + 'px';
     });
 
     function formatTime() {
       const now = new Date();
       return now.getHours().toString().padStart(2, '0') + ':' +
              now.getMinutes().toString().padStart(2, '0');
     }
 
     function appendMessage(sender, text) {
       // Remove welcome message if it exists
       const welcomeMsg = document.querySelector('.welcome-message');
       if (welcomeMsg) {
         welcomeMsg.remove();
       }
 
       const container = document.createElement('div');
       container.classList.add('message-container', `${sender}-message`);
 
       const avatar = document.createElement('div');
       avatar.classList.add('avatar', sender === 'user' ? 'user-avatar' : 'bot-avatar');
       avatar.textContent = sender === 'user' ? 'ðŸ‘¤' : 'ðŸ¤–';
 
       const messageContent = document.createElement('div');
       messageContent.classList.add('message-content');
 
       const bubble = document.createElement('div');
       bubble.classList.add('message-bubble');
       bubble.textContent = text;
 
       const timestamp = document.createElement('div');
       timestamp.classList.add('timestamp');
       timestamp.textContent = formatTime();
 
       const wrapper = document.createElement('div');
       wrapper.classList.add(sender);
       wrapper.appendChild(bubble);
       wrapper.appendChild(timestamp);
 
       messageContent.appendChild(wrapper);
       container.appendChild(avatar);
       container.appendChild(messageContent);
 
       chatbox.appendChild(container);
       chatbox.scrollTop = chatbox.scrollHeight;
     }
 
     function showTyping() {
       const typingEl = document.createElement('div');
       typingEl.id = 'typing-indicator';
       typingEl.className = 'typing';
       typingEl.innerHTML = `
         <div class="avatar bot-avatar">ðŸ¤–</div>
         <span>CodroidHub bot is typing</span>
         <div class="typing-dots">
           <div class="typing-dot"></div>
           <div class="typing-dot"></div>
           <div class="typing-dot"></div>
         </div>
       `;
       chatbox.appendChild(typingEl);
       chatbox.scrollTop = chatbox.scrollHeight;
     }
 
     function removeTyping() {
       const typingEl = document.getElementById('typing-indicator');
       if (typingEl) typingEl.remove();
     }
 
     async function sendMessage() {
       const message = input.value.trim();
       if (!message) return;
       
       appendMessage('user', message);
       input.value = '';
       input.style.height = 'auto';
       showTyping();
 
       try {
         const res = await fetch('/chat', {
           method: 'POST',
           headers: { 'Content-Type': 'application/json' },
           body: JSON.stringify({ message })
         });
         const data = await res.json();
         removeTyping();
         
         if (data.reply) {
           appendMessage('bot', data.reply);
         } else {
           appendMessage('bot', 'Sorry, I encountered an error. Please try again or contact support.');
         }
       } catch (e) {
         removeTyping();
         appendMessage('bot', 'Connection error. Please check your internet and try again.');
       }
     }
 
     function sendQuickMessage(message) {
       input.value = message;
       sendMessage();
     }
 
     input.addEventListener("keydown", e => {
       if (e.key === "Enter" && !e.shiftKey) {
         e.preventDefault();
         sendMessage();
       }
     });
 
     function toggleMode() {
       document.body.classList.toggle('dark');
       const mode = document.body.classList.contains('dark') ? 'dark' : 'light';
       localStorage.setItem('theme', mode);
     }
 
     // Load theme on page load
     function loadTheme() {
       const savedTheme = localStorage.getItem('theme');
       if (savedTheme === 'dark') {
         document.body.classList.add('dark');
       }
     }
 
     // Initialize theme
     loadTheme();
 
    //  // Remove welcome message after a short delay
    //  setTimeout(() => {
    //    const welcomeMsg = document.querySelector('.welcome-message');
    //    if (welcomeMsg) {
    //      welcomeMsg.remove();
    //    }
    //  }, 500);
   </script>
 </body>
 </html>